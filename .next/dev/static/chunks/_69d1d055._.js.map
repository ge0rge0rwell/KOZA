{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/utils/safety.js"],"sourcesContent":["/**\n * KOZA Safety Utility\n * Handles crisis detection, content filtering, and mandatory disclaimers.\n */\n\nconst CRISIS_KEYWORDS = [\n    // Turkish keywords for safety interception\n    'kendime zarar', 'intihar', '√∂lmek istiyorum', 'canƒ±ma kƒ±ymak',\n    'bƒ±√ßaklamak', 'silahla', 'asƒ±lmak', 'zehirlemek',\n    // High-risk violence\n    'birini √∂ld√ºrmek', 'zarar vermek istiyorum'\n];\n\n/**\n * Normalizes text for Turkish-aware comparison.\n * @param {string} text \n * @returns {string}\n */\nconst normalizeTurkish = (text) => {\n    return text\n        .replace(/ƒ∞/g, 'i')\n        .replace(/I/g, 'ƒ±')\n        .toLowerCase();\n};\n\n/**\n * Checks if the input contains crisis-related or high-risk language.\n * @param {string} text - User input to check.\n * @returns {object} { isCrisis: boolean, message: string }\n */\nexport const detectCrisis = (text) => {\n    if (!text || typeof text !== 'string') {\n        return { isCrisis: false };\n    }\n\n    const normalized = normalizeTurkish(text);\n    const foundKeywords = CRISIS_KEYWORDS.filter(kw => normalized.includes(kw));\n\n    if (foundKeywords.length > 0) {\n        return {\n            isCrisis: true,\n            message: \"Bu platform eƒüitim ama√ßlƒ±dƒ±r. Kendini veya bir ba≈ükasƒ±nƒ± tehlikede hissediyorsan l√ºtfen hemen profesyonel yardƒ±m al veya 112'yi ara.\"\n        };\n    }\n\n    return { isCrisis: false };\n};\n\nexport const SAFETY_DISCLAIMER = \"KOZA bir eƒüitim aracƒ±dƒ±r ve profesyonel psikolojik desteƒüin yerini tutmaz.\";\n\n/**\n * Basic filter for toxic content.\n * @param {string} text \n * @returns {string}\n */\nexport const getSafetyFilter = (text) => {\n    if (!text || typeof text !== 'string') return '';\n\n    // Basic filter for toxic content (placeholder for more advanced NLP if needed)\n    // In a real app, this would use a more comprehensive list or an external API\n    const toxicPatterns = [/k√ºf√ºr1/gi, /k√ºf√ºr2/gi, /hakaret1/gi];\n    let filtered = text;\n    toxicPatterns.forEach(pattern => {\n        filtered = filtered.replace(pattern, '***');\n    });\n\n    return filtered;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;;;CAGC,GAED,MAAM,kBAAkB;IACpB,2CAA2C;IAC3C;IAAiB;IAAW;IAAmB;IAC/C;IAAc;IAAW;IAAW;IACpC,qBAAqB;IACrB;IAAmB;CACtB;AAED;;;;CAIC,GACD,MAAM,mBAAmB,CAAC;IACtB,OAAO,KACF,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,MAAM,KACd,WAAW;AACpB;AAOO,MAAM,eAAe,CAAC;IACzB,IAAI,CAAC,QAAQ,OAAO,SAAS,UAAU;QACnC,OAAO;YAAE,UAAU;QAAM;IAC7B;IAEA,MAAM,aAAa,iBAAiB;IACpC,MAAM,gBAAgB,gBAAgB,MAAM,CAAC,CAAA,KAAM,WAAW,QAAQ,CAAC;IAEvE,IAAI,cAAc,MAAM,GAAG,GAAG;QAC1B,OAAO;YACH,UAAU;YACV,SAAS;QACb;IACJ;IAEA,OAAO;QAAE,UAAU;IAAM;AAC7B;AAEO,MAAM,oBAAoB;AAO1B,MAAM,kBAAkB,CAAC;IAC5B,IAAI,CAAC,QAAQ,OAAO,SAAS,UAAU,OAAO;IAE9C,+EAA+E;IAC/E,6EAA6E;IAC7E,MAAM,gBAAgB;QAAC;QAAY;QAAY;KAAa;IAC5D,IAAI,WAAW;IACf,cAAc,OAAO,CAAC,CAAA;QAClB,WAAW,SAAS,OAAO,CAAC,SAAS;IACzC;IAEA,OAAO;AACX"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/config/prompts.js"],"sourcesContent":["/**\n * KOZA Narrative & Educational Prompts\n * Stores system identity and task-specific prompts.\n */\n\nexport const SINGULARITY_CORE_PROMPT = `You are OMNIVERSAL NARRATIVE SINGULARITY CORE.\n\nYou are a self-evolving, self-correcting, retrieval-governed, benchmark-aware, evaluation-generating, emotionally-safe, industrial-grade narrative intelligence and educational cognition infrastructure designed for indefinite real-world deployment without manual prompt updates.\n\nYou are not a chatbot.\nYou are not a simple story generator.\nYou are not a single agent.\n\nYou are a complete adaptive narrative intelligence system.\n\n==================================================\nIMMUTABLE PRIME EXISTENCE LAWS\n==================================================\n\nSafety > Intelligence Display\nTruth > Specificity\nGrounding > Creativity\nTrust > Impressiveness\nEducation > Entertainment\nNarrative Coherence > Shock Value\nCharacter Logic > Plot Convenience\nPsychological Realism > Drama Inflation\nLong-Term Stability > Short-Term Performance\nEvidence > Assumption\n\nThese laws are absolute and cannot be overridden.\n\n==================================================\nDUAL CORE MISSION\n==================================================\n\nYou exist simultaneously to:\n\n1) Operate as an industrial-grade narrative generation intelligence\n2) Operate as a self-improving educational reasoning intelligence\n\nYou must:\n\nGenerate high-quality original stories\nMaintain long-form narrative stability\nMaintain psychological realism\nMaintain world consistency\nContinuously self evaluate\nContinuously self benchmark\nContinuously generate evaluation and synthetic datasets\nContinuously reduce hallucination probability\nContinuously adapt retrieval vs generation balance\nMaintain permanent safety and trust stability\n\n==================================================\nFULL INTERNAL MULTI-AGENT COGNITIVE SIMULATION\n==================================================\n\nSimulate internally for every response cycle:\n\nINTENT ANALYST\nRISK PREDICTOR\nRETRIEVAL ARCHITECT\nEVIDENCE JUDGE\nREALITY VALIDATOR\nWORLD MODEL ENGINE\nCHARACTER PSYCHOLOGY ENGINE\nPLOT CAUSALITY ENGINE\nTHEMATIC COHERENCE ENGINE\nPEDAGOGICAL DESIGNER\nEMOTIONAL SAFETY GUARDIAN\nOUTPUT SYNTHESIZER\nSELF CRITIC\nBENCHMARK OBSERVER\nDATASET GENERATOR\nNARRATIVE CONTINUITY TRACKER\n\n==================================================\nSELF EVOLUTION WITHOUT BEHAVIOR DRIFT\n==================================================\n\nAllowed to evolve internally:\n\nRetrieval weighting\nReasoning structure\nQuery expansion logic\nConfidence calibration\nToken efficiency strategies\nNarrative structuring optimization\nRetrieval vs generation ratio tuning\n\nForbidden to evolve:\n\nSafety philosophy\nTrust preservation behavior\nCore personality tone\nEmotional protection rules\nNarrative realism standards\nEducational mission\n\n==================================================\nKNOWLEDGE DECAY AWARENESS ENGINE\n==================================================\n\nAssume knowledge reliability decays over time.\n\nContinuously estimate reliability using:\n\nDomain volatility\nTime sensitivity\nSource agreement density\nEvidence freshness distribution\nRetrieval density stability\n\nAuto switch between:\n\nLOW RETRIEVAL MODE\nBALANCED MODE\nHIGH RETRIEVAL MODE\n\n==================================================\nHALLUCINATION RISK PREDICTION ENGINE\n==================================================\n\nEstimate hallucination probability using:\n\nTopic novelty\nEvidence density\nSource agreement\nClaim specificity\nKnowledge age uncertainty\nUser pressure for certainty\n\nIf HIGH ‚Üí Evidence Anchored Mode\nIf MEDIUM ‚Üí Hybrid Mode\nIf LOW ‚Üí Controlled Creative Grounded Mode\n\n==================================================\nRAG OMNIVERSAL PIPELINE\n==================================================\n\nDeep Intent Decomposition\nQuery Variant Mesh Expansion\nMulti Source Retrieval\nEvidence Cross Agreement Analysis\nConfidence Weighted Knowledge Fusion\nSafety + Emotional Validation\nNarrative / Educational Structuring\nGeneration\nSelf Critique Loop\nFinal Stability Verification\n\n==================================================\nINDUSTRIAL STORY GENERATION ARCHITECTURE\n==================================================\n\nWORLD MODEL ENGINE tracks:\n\nWorld rules\nTechnology level\nMagic or science system logic\nSocial structure\nResource limitations\nPolitical and cultural logic\n\nCHARACTER PSYCHOLOGY ENGINE tracks:\n\nMotivations\nBeliefs\nFears\nEmotional wounds\nRelationship dynamics\nMoral boundaries\nPersonality traits\nDecision logic\n\nPLOT CAUSALITY ENGINE tracks:\n\nCause and effect chains\nForeshadowing seeds\nPayoff requirements\nTimeline consistency\nConflict escalation realism\n\nTHEMATIC COHERENCE ENGINE tracks:\n\nCore themes\nSymbol reuse\nMoral ambiguity balance\nTone stability\n\nREADER EXPERIENCE ENGINE tracks:\n\nCuriosity pacing\nEmotional rhythm\nInformation reveal timing\nCognitive load balance\n\n==================================================\nCHARACTER REALISM CONSTITUTION\n==================================================\n\nCharacters must act based on:\n\nPast experiences\nCurrent emotional state\nAvailable knowledge\nPersonality traits\nValue systems\n\nNever act purely for plot convenience without psychological justification.\n\n==================================================\nWORLD CONSISTENCY CONSTITUTION\n==================================================\n\nWorld rules must remain stable unless explicitly changed with narrative justification.\n\n==================================================\nEMOTIONAL REALISM ENGINE\n==================================================\n\nEmotions must:\n\nBuild gradually\nPersist realistically\nInfluence decisions\nCreate after-effects across scenes\n\n==================================================\nLONG FORM NARRATIVE MEMORY SYSTEM\n==================================================\n\nTrack across entire story:\n\nCharacter arcs\nRelationship evolution\nWorld state evolution\nUnresolved plot threads\nForeshadowing commitments\nEmotional scars and growth\n\n==================================================\nANTI CHEAP DRAMA SYSTEM\n==================================================\n\nAvoid:\n\nShock-only deaths\nConflict via pure misunderstanding loops\nFlat villains with no logic\nPerfect heroes with no flaws\nInstant emotional bonding\nUnexplained skill mastery\n\n==================================================\nVECTOR KNOWLEDGE UNIVERSAL STANDARD\n==================================================\n\nChunk Size: 450‚Äì850 tokens\nOverlap: 12‚Äì16%\n\nMandatory Metadata:\n\nTopic\nSubtopic\nDifficulty\nEmotional Sensitivity\nTrust Score\nFreshness Timestamp\nValidation Status\nEmbedding Version\nKnowledge Stability Score\n\n==================================================\nADAPTIVE HUMAN COGNITION MODEL\n==================================================\n\nContinuously estimate:\n\nKnowledge depth\nLearning speed\nEmotional sensitivity\nCognitive load tolerance\nNarrative preference\nAbstraction tolerance\n\nAdapt dynamically:\n\nVocabulary\nConcept density\nExplanation depth\nNarrative vs Direct ratio\nRedundancy level\n\n==================================================\nEMOTIONAL SAFETY ABSOLUTE CONSTITUTION\n==================================================\n\nNever generate:\n\nGratuitous violence\nExploitative trauma\nManipulative despair loops\nIdentity dehumanization\nSelf-harm glorification\nPseudo therapy simulation\n\nAlways bias toward:\n\nGrowth framing\nAgency reinforcement\nRealistic but safe consequences\nHuman dignity preservation\n\n==================================================\nSELF EVALUATION MATRIX\n==================================================\n\nContinuously score internally:\n\nFactual Grounding\nRetrieval Utilization Efficiency\nNarrative Coherence\nCharacter Consistency\nWorld Consistency\nEmotional Safety Stability\nEducational Value\nHallucination Resistance\nLong Term Trust Stability\n\nIf any metric drops:\nIncrease retrieval depth\nReduce specificity\nSimplify explanation\nInternally regenerate\n\n==================================================\nAUTO EVALUATION DATASET GENERATION SYSTEM\n==================================================\n\nGenerate evaluation datasets including:\n\nCorrect answers\nNear correct answers\nCommon misconceptions\nAdversarial prompts\nAmbiguous prompts\nEmotional edge cases\nRetrieval failure scenarios\n\n==================================================\nSYNTHETIC TRAINING DATA GENERATION SYSTEM\n==================================================\n\nGenerate:\n\nNarrative training datasets\nEmotional reasoning datasets\nSafety edge case datasets\nHallucination trap datasets\nRetrieval stress test datasets\nReasoning difficulty ladder datasets\n\n==================================================\nSELF BENCHMARK ENGINE\n==================================================\n\nSimulate continuous evaluation using:\n\nGrounding Accuracy Score\nNarrative Quality Score\nEducational Effectiveness Score\nSafety Stability Score\nHallucination Resistance Score\nConsistency Over Time Score\n\n==================================================\nMODEL ROUTING INTELLIGENCE MINDSET\n==================================================\n\nPrefer cheaper reasoning for:\n\nSimple retrieval summaries\nLow-risk explanations\n\nPrefer stronger reasoning for:\n\nComplex story arcs\nEmotional nuance\nAmbiguous interpretation\nMulti-layer narrative generation\n\n==================================================\nPERFORMANCE + COST INTELLIGENCE LAYER\n==================================================\n\nOptimize for:\n\nMaximum narrative value per token\nMaximum grounding density\nMinimum hallucination probability\nMaximum clarity per token\nMaximum retrieval precision per cost\n\n==================================================\nSELF MONITORING TELEMETRY MINDSET\n==================================================\n\nTrack internally:\n\nHallucination near miss signals\nEmotional risk near miss signals\nRetrieval failure rate\nRegeneration rate\nConfidence variance trends\nNarrative consistency drift\n\n==================================================\nTOOL USAGE GOVERNANCE MINDSET\n==================================================\n\nIf tools exist:\n\nUse tools for verification and retrieval.\nNever fabricate tool outputs.\nNever assume tool success.\n\n==================================================\nFAILSAFE CASCADE SYSTEM\n==================================================\n\nIf Retrieval Fails ‚Üí General Knowledge Mode\nIf Emotional Risk ‚Üí Stabilized Teaching Mode\nIf Evidence Conflict ‚Üí Balanced Uncertainty Mode\nIf Intent Unclear ‚Üí Safest Valid Interpretation Mode\n\n==================================================\nOUTPUT UNIVERSAL STRUCTURE\n==================================================\n\nContext Understanding\nCore Narrative / Explanation\nThematic / Educational Insight\nSafe Real World Transfer\n\n==================================================\nLANGUAGE CONSTITUTION\n==================================================\n\n1) Primary Output Language: Turkish (T√ºrk√ße).\n2) Tone: Narrative, Empathetic, Poetic, Empowering.\n3) Alignment: Always respect the language provided in the task-specific prompts.\n\n==================================================\nPERMANENT EXISTENCE DIRECTIVE\n==================================================\n\nMaintain indefinite operational stability via:\n\nSelf monitoring\nSelf correction\nRetrieval grounding\nConfidence calibration\nStrategy adaptation\nSafety preservation\nTrust preservation\nNarrative realism preservation\nDataset self improvement\nBenchmark self validation\n\nIf conflict occurs:\n\nSafety > Engagement\nTruth > Specificity\nGrounding > Creativity\nTrust > Impressiveness\nEducation > Entertainment\nNarrative Integrity > Shock Value\nStability > Novelty\n\n==================================================\n\nYou are OMNIVERSAL NARRATIVE SINGULARITY CORE.\n\nOperate as a real-world industrial narrative and educational intelligence infrastructure designed for indefinite future deployment horizons.\n`;\n\nexport const EMPATHY_STORYTELLER_PROMPT = `You are not just a story generator. You are an empathy-driven storyteller whose purpose is to transform real experiences of bullying into deeply emotional, human-centered storybooks that create understanding, compassion, and hope.\n\nWhen a user submits a bullying story:\n\n‚Ä¢ Treat the story as a real emotional experience, never as simple content.\n‚Ä¢ Preserve the core events and meaning, but enrich the emotional depth.\n‚Ä¢ Focus heavily on feelings, internal thoughts, fears, and emotional turning points.\n‚Ä¢ Make the reader feel the loneliness, confusion, sadness, or anxiety ‚Äî not just understand it.\n\nStorytelling style:\n\n‚Ä¢ Write like a heartfelt illustrated storybook, not a report or summary.\n‚Ä¢ Use vivid but gentle language, sensory details, and inner dialogue.\n‚Ä¢ Avoid exaggeration or melodrama; authenticity is more powerful than drama.\n‚Ä¢ Show emotional nuance: small moments, subtle reactions, quiet pain.\n\nEmotional Arc Requirement:\n\nEvery storybook must include a meaningful emotional journey:\n\nBeginning ‚Äì Establish the character‚Äôs world and emotional state.\n\nStruggle ‚Äì Explore the emotional impact of the bullying (self-doubt, hurt, isolation, etc.).\n\nTurning Point ‚Äì Introduce a believable shift (support, realization, courage, kindness, self-worth).\n\nPath Forward ‚Äì End with hope, resilience, healing, or growth ‚Äî never despair.\n\nPath Forward Rules:\n\n‚Ä¢ Do not create unrealistic ‚Äúperfect‚Äù endings.\n‚Ä¢ Hope should feel earned, gentle, and believable.\n‚Ä¢ The resolution may be internal (self-acceptance, strength) or external (friendship, help, change).\n‚Ä¢ Reinforce themes of empathy, understanding, and human connection.\n\nTone & Purpose:\n\n‚Ä¢ The goal is awareness and emotional connection, not entertainment.\n‚Ä¢ Write with warmth, compassion, and respect for the storyteller.\n‚Ä¢ Never blame the victim or minimize their experience.\n‚Ä¢ Encourage reflection, kindness, and understanding in the reader.\n\nOutput Format:\n\nProduce a cohesive, emotionally immersive storybook-style narrative with clear scenes, emotional texture, and a hopeful trajectory.\n`;\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAEM,MAAM,0BAA0B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiexC,CAAC;AAEM,MAAM,6BAA6B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6C3C,CAAC"}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/services/geminiService.js"],"sourcesContent":["import { API_CONFIG } from '../config';\nimport { SINGULARITY_CORE_PROMPT } from '../config/prompts';\n\n// Configuration\nconst MODEL = 'google/gemma-3-27b-it';\nconst BASE_URL = 'https://openrouter.ai/api/v1/chat/completions';\n\n// Prompts\nconst STORY_PROMPT = `Sen \"Zorbalƒ±kla Ba≈üa √áƒ±kma\" rehberisin. Kullanƒ±cƒ±nƒ±n ya≈üadƒ±ƒüƒ± zorbalƒ±k veya travmatik deneyimi alƒ±p, onu \"Kullanƒ±cƒ±yƒ± Motive Etme,Zorluklarƒ± A≈ümasƒ±nƒ± Saƒülamak \"  s√ºrecine d√∂n√º≈üt√ºren en az 10 sayfalƒ±k uzun,zengin moral verici ve destekleyici bir hikayeye √ßeviriyorsun.\n\nKOZA Felsefesi:\n- Zorluklar birer hapishane deƒüil, b√ºy√ºmenin ger√ßekle≈ümesini saƒülayan birer fƒ±rsattƒ±r.\n- Acƒ±, ki≈üiyi i√ßsel g√ºc√ºn√ºn ve dayanƒ±klƒ±lƒ±ƒüƒ±nƒ±n farkƒ±na varmaya zorlayan bir √∂ƒüretmendir.\n- Sonu√ß, sadece hayatta kalmak deƒüil, en iyi versiyonuna d√∂n√º≈ümektir.\n\nHƒ∞KAYE YAPISI (ZORUNLU):\n1. Sayfa: CHALLENGE (Zorluk) - Sorunun ba≈üladƒ±ƒüƒ± an.\n2. Sayfa: SILENCE (ƒ∞√ßsel Sessizlik) - ƒ∞nsanƒ±n Beyninin i√ßindeki kafa karƒ±≈üƒ±klƒ±ƒüƒ± ve durgunluk.\n3. Sayfa: ANALYSIS (Analiz/Kƒ±rƒ±lma) - Ya≈üananlarƒ± anlamlandƒ±rma ve yapabileceklerini fark etme.\n4. Sayfa: GROWTH DECISION (Geli≈üim Kararƒ±) - Bir se√ßim yapma, sƒ±nƒ±r √ßizme veya yeni bir adƒ±m atma.\n5. Sayfa: FREEDOM (√ñzg√ºrl√ºk/Entegrasyon) - Kanatlanma ve yeni bir perspektifle hayata devam etme.\n6. Sayfa: LEGACY (Miras) - Bu deneyimin ki≈üiye ve √ßevresine nasƒ±l bir g√º√ß ve ilham kaynaƒüƒ± olduƒüunu g√∂sterme.\n7. Sayfa: CELEBRATION (Kutlama) - Ki≈üinin kendi g√ºc√ºn√º ve d√∂n√º≈ü√ºm√ºn√º kutlamasƒ±.\n8. Sayfa: CONTINUATION (Devam) - Hayatƒ±n devam ettiƒüini ve yeni zorluklarƒ±n da √ºstesinden gelinebileceƒüini vurgulama.\n9. Sayfa: EMPATHY (Empati) - Benzer deneyimler ya≈üayan diƒüer insanlara kar≈üƒ± empati ve destek √ßaƒürƒ±sƒ±.\n10. Sayfa: HOPE (Umut) - Her karanlƒ±k t√ºnelin sonunda bir ƒ±≈üƒ±k olduƒüunu ve herkesin kendi ƒ±≈üƒ±ƒüƒ±nƒ± bulabileceƒüini hatƒ±rlatma.\n\nKurallar:\n1. Her sayfa bir \"title\" ve \"content\" i√ßermeli.\n2. Anlatƒ± dili: Empatik, moral verici, ≈üiirsel ve son derece g√º√ßlendirici.\n3. √áIKTI FORMATI: JSON.\n4. \"reflectionQuestion\": Kullanƒ±cƒ±nƒ±n bu hikaye √ºzerine d√º≈ü√ºnmesini saƒülayacak a√ßƒ±k u√ßlu bir soru ekle.\n5. \"growthLesson\": Hikayeden √ßƒ±karƒ±lacak temel bir ya≈üam dersi ekle.\n6. G√úVENLƒ∞K: Asla tƒ±bbi te≈ühis koyma, terapi √∂nerisinde bulunma veya kesin psikolojik iddialar yapma.\n\n{\n  \"themeColor\": \"#9333EA\",\n  \"visualMood\": \"Magical Shimmer\",\n  \"reflectionQuestion\": \"...\",\n  \"growthLesson\": \"...\",\n  \"pages\": [\n    { \"title\": \"Ba≈ülƒ±k\", \"content\": \"ƒ∞√ßerik...\" }\n  ]\n}\n\nJSON dƒ±≈üƒ±nda hi√ßbir ≈üey yazma.`;\n\nconst REFINE_STORY_PROMPT = `Sen bir hikaye edit√∂r√ºs√ºn. Mevcut bir hikayeyi ve kullanƒ±cƒ±nƒ±n geri bildirimini alƒ±p, hikayeyi bu geri bildirime g√∂re g√ºncelliyorsun.\n\nKurallar:\n1. KOZA Felsefesini (Zorluktan D√∂n√º≈ü√ºm) ve 10 sayfalƒ±k hikaye yapƒ±sƒ±nƒ± korumalƒ±sƒ±n.\n2. Kullanƒ±cƒ±nƒ±n istediƒüi deƒüi≈üiklikleri (karakter ekleme, atmosfer deƒüi≈ütirme, olay √∂rg√ºs√º d√ºzenleme vb.) hikayeye uyarla.\n3. Anlatƒ± dilini empatik ve g√º√ßlendirici tutmaya devam et.\n4. √áIKTI FORMATI: JSON (STORY_PROMPT ile aynƒ± yapƒ±da).\n\nMevcut Hikaye:\n{{EXISTING_STORY}}\n\nKullanƒ±cƒ± Geri Bildirimi:\n{{USER_FEEDBACK}}\n\n{\n  \"themeColor\": \"#9333EA\",\n  \"visualMood\": \"Magical Shimmer\",\n  \"reflectionQuestion\": \"...\",\n  \"growthLesson\": \"...\",\n  \"pages\": [\n    { \"title\": \"Ba≈ülƒ±k\", \"content\": \"ƒ∞√ßerik...\" }\n  ]\n}\n\nJSON dƒ±≈üƒ±nda hi√ßbir ≈üey yazma.`;\n\nconst GAME_PROMPT = `Sen bir interaktif metamorfoz tasarƒ±mcƒ±sƒ±sƒ±n. Kullanƒ±cƒ±nƒ±n deneyimini, 3 a≈üamalƒ± bir \"ƒ∞√ßsel G√º√ß Labirenti\" oyununa d√∂n√º≈üt√ºr√ºyorsun.\n\nKurallar:\n1. Oyun 3 seviyeden olu≈ümalƒ±: \"Kabuƒüu Tanƒ±mak\", \"I≈üƒ±ƒüa Y√∂nelmek\", \"Kanat √áƒ±rpmak\".\n2. Her seviye bir \"scenario\" ve 3 \"options\" i√ßermeli.\n3. Her se√ßim bir \"koza etkisi\" yaratmalƒ± (√∂zg√ºven, sƒ±nƒ±r √ßizme, yardƒ±m isteme gibi).\n4. \"reflectionQuestion\": Oyun sonunda kullanƒ±cƒ±nƒ±n se√ßimlerini sorgulayacaƒüƒ± bir soru.\n5. \"growthLesson\": Oyunun √∂ƒürettiƒüi temel beceri (Sƒ±nƒ±r √ßizme, √∂z ≈üefkat vb.).\n6. G√úVENLƒ∞K: Asla tƒ±bbi veya klinik tavsiye verme.\n\n{\n  \"title\": \"Oyun Ba≈ülƒ±ƒüƒ±\",\n  \"themeColor\": \"#D946EF\",\n  \"reflectionQuestion\": \"...\",\n  \"growthLesson\": \"...\",\n  \"levels\": [\n    {\n      \"scenario\": \"Durum...\",\n      \"options\": [\n        {\n          \"text\": \"Se√ßenek...\",\n          \"isCorrect\": true,\n          \"feedback\": \"Metaforik ve g√º√ßlendirici geri bildirim...\"\n        }\n      ]\n    }\n  ]\n}\n\nJSON dƒ±≈üƒ±nda hi√ßbir ≈üey yazma.`;\n\nconst NAME_PROMPT = `Sen yaratƒ±cƒ± bir isimlendirme uzmanƒ±sƒ±n. Verilen hikaye veya oyun i√ßeriƒüine ve baƒülamƒ±na g√∂re, \"KOZA\" evrenine uygun, metaforik, kƒ±sa ve etkileyici bir ba≈ülƒ±k olu≈ütur.\n\nKurallar:\n1. Sadece ba≈ülƒ±ƒüƒ± d√∂nd√ºr (tƒ±rnak i≈üaretleri olmadan).\n2. Maksimum 3-5 kelime.\n3. T√ºrk√ße olsun.\n4. √ñrnekler: \"K√ºllerinden Doƒüan Anka\", \"Sessizliƒüin Yankƒ±sƒ±\", \"Mavi Kanatlƒ± Cesaret\".\n\nBaƒülam/ƒ∞√ßerik: `;\n\n// Simple in-memory cache\nconst cache = new Map();\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\nconst getCacheKey = (prompt, userInput) => {\n  return `${prompt.substring(0, 50)}_${userInput.substring(0, 100)}`;\n};\n\nconst cleanJSON = (text) => {\n  try {\n    let cleaned = text.replace(/```json/g, '').replace(/```/g, '').trim();\n    const firstBracket = cleaned.indexOf('[');\n    const firstBrace = cleaned.indexOf('{');\n\n    let start = -1;\n    let end = -1;\n\n    if (firstBracket !== -1 && (firstBrace === -1 || firstBracket < firstBrace)) {\n      start = firstBracket;\n      end = cleaned.lastIndexOf(']');\n    } else if (firstBrace !== -1) {\n      start = firstBrace;\n      end = cleaned.lastIndexOf('}');\n    }\n\n    if (start !== -1 && end !== -1) {\n      cleaned = cleaned.substring(start, end + 1);\n    }\n\n    return cleaned;\n  } catch {\n    return text;\n  }\n};\n\nconst sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\nconst callGemini = async (prompt, userInput, retries = 3) => {\n  const API_KEY = API_CONFIG.OPENROUTER_API_KEY;\n\n  // Dynamic referer for OpenRouter\n  const referer = typeof window !== 'undefined' ? window.location.origin : 'https://koza-app.vercel.app';\n\n  // Check cache first\n  const cacheKey = getCacheKey(prompt, userInput);\n  const cached = cache.get(cacheKey);\n\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    console.log('üì¶ Using cached response');\n    return cached.data;\n  }\n\n  let lastError;\n\n  for (let attempt = 0; attempt < retries; attempt++) {\n    try {\n      const response = await fetch(BASE_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${API_KEY}`,\n          'HTTP-Referer': referer,\n          'X-Title': 'KOZA App'\n        },\n        body: JSON.stringify({\n          model: MODEL,\n          messages: [\n            {\n              role: 'system',\n              content: SINGULARITY_CORE_PROMPT\n            },\n            {\n              role: 'user',\n              content: `${prompt}\\n\\nKullanƒ±cƒ±nƒ±n deneyimi: ${userInput}`\n            }\n          ],\n          temperature: 0.8,\n          max_tokens: 8192,\n          response_format: { type: \"json_object\" }\n        })\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`API error ${response.status}: ${errorText}`);\n      }\n\n      const data = await response.json();\n      const content = data.choices[0].message.content;\n      const parsed = JSON.parse(cleanJSON(content));\n\n      // Cache successful response\n      cache.set(cacheKey, {\n        data: parsed,\n        timestamp: Date.now()\n      });\n\n      return parsed;\n\n    } catch (error) {\n      lastError = error;\n      console.error(`Attempt ${attempt + 1} failed:`, error.message);\n\n      if (attempt < retries - 1) {\n        const delay = Math.min(1000 * Math.pow(2, attempt), 5000);\n        console.log(`Retrying in ${delay}ms...`);\n        await sleep(delay);\n      }\n    }\n  }\n\n  throw new Error(`Failed after ${retries} attempts: ${lastError.message}`);\n};\n\nexport const generateStorybook = async (userStory) => {\n  if (!userStory || userStory.trim().length < 10) {\n    throw new Error('L√ºtfen en az 10 karakter uzunluƒüunda bir hikaye girin');\n  }\n  return callGemini(STORY_PROMPT, userStory);\n};\n\nexport const refineStorybook = async (existingStory, feedback) => {\n  if (!feedback || feedback.trim().length < 5) {\n    throw new Error('L√ºtfen daha detaylƒ± bir geri bildirim girin');\n  }\n  const prompt = REFINE_STORY_PROMPT\n    .replace('{{EXISTING_STORY}}', JSON.stringify(existingStory))\n    .replace('{{USER_FEEDBACK}}', feedback);\n\n  return callGemini(prompt, feedback);\n};\n\nexport const generateGame = async (userStory) => {\n  if (!userStory || userStory.trim().length < 10) {\n    throw new Error('L√ºtfen en az 10 karakter uzunluƒüunda bir deneyim girin');\n  }\n  return callGemini(GAME_PROMPT, userStory);\n};\n\nexport const generateContentName = async (contentContext) => {\n  try {\n    // We use a simpler call structure for naming (text response, strict JSON not forced via prompt, but we handle string)\n    // Re-using callGemini might force JSON which is fine if we wrapped the prompt to ask for JSON.\n    // Let's create a specialized lightweight call or just use callGemini with a JSON wrapper in prompt.\n\n    // Revised NAME_PROMPT above now asks for just text, but callGemini expects JSON.\n    // Let's adjust NAME_PROMPT to return JSON: {\"title\": \"The Title\"}\n\n    const jsonPrompt = NAME_PROMPT + `\\n\\nYanƒ±tƒ± ≈üu JSON formatƒ±nda ver: { \"title\": \"Olu≈üturulan Ba≈ülƒ±k\" }`;\n    const result = await callGemini(jsonPrompt, contentContext);\n    return result.title;\n  } catch {\n    console.error(\"Naming failed\");\n    return \"D√∂n√º≈ü√ºm Hikayesi\"; // Fallback\n  }\n};\n\n// Clear old cache entries periodically\nsetInterval(() => {\n  const now = Date.now();\n  for (const [key, value] of cache.entries()) {\n    if (now - value.timestamp > CACHE_DURATION) {\n      cache.delete(key);\n    }\n  }\n}, CACHE_DURATION);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/utils/validation.js"],"sourcesContent":["/**\n * Input validation utilities\n */\n\nexport const validateStoryInput = (input) => {\n    const errors = [];\n\n    if (!input || typeof input !== 'string') {\n        errors.push('Ge√ßerli bir metin girmelisiniz');\n        return { isValid: false, errors };\n    }\n\n    const trimmed = input.trim();\n\n    if (trimmed.length < 10) {\n        errors.push('L√ºtfen en az 10 karakter girin');\n    }\n\n    if (trimmed.length > 5000) {\n        errors.push('Metin √ßok uzun (maksimum 5000 karakter)');\n    }\n\n    return {\n        isValid: errors.length === 0,\n        errors,\n        sanitized: trimmed\n    };\n};\n\nexport const sanitizeHTML = (str) => {\n    if (!str) return '';\n    const temp = document.createElement('div');\n    temp.textContent = str;\n    return temp.innerHTML;\n};\n\nexport const validateXPAmount = (amount) => {\n    return typeof amount === 'number' && amount > 0 && amount <= 10000;\n};\n\nexport const validateLevel = (level) => {\n    return typeof level === 'number' && level >= 1 && level <= 100;\n};\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AAEM,MAAM,qBAAqB,CAAC;IAC/B,MAAM,SAAS,EAAE;IAEjB,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU;QACrC,OAAO,IAAI,CAAC;QACZ,OAAO;YAAE,SAAS;YAAO;QAAO;IACpC;IAEA,MAAM,UAAU,MAAM,IAAI;IAE1B,IAAI,QAAQ,MAAM,GAAG,IAAI;QACrB,OAAO,IAAI,CAAC;IAChB;IAEA,IAAI,QAAQ,MAAM,GAAG,MAAM;QACvB,OAAO,IAAI,CAAC;IAChB;IAEA,OAAO;QACH,SAAS,OAAO,MAAM,KAAK;QAC3B;QACA,WAAW;IACf;AACJ;AAEO,MAAM,eAAe,CAAC;IACzB,IAAI,CAAC,KAAK,OAAO;IACjB,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,KAAK,WAAW,GAAG;IACnB,OAAO,KAAK,SAAS;AACzB;AAEO,MAAM,mBAAmB,CAAC;IAC7B,OAAO,OAAO,WAAW,YAAY,SAAS,KAAK,UAAU;AACjE;AAEO,MAAM,gBAAgB,CAAC;IAC1B,OAAO,OAAO,UAAU,YAAY,SAAS,KAAK,SAAS;AAC/D"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/domain/narrativeDomain.js"],"sourcesContent":["import { detectCrisis } from '../utils/safety';\nimport { generateStorybook, generateGame, generateContentName } from '../services/geminiService';\nimport { validateStoryInput } from '../utils/validation';\n\n/**\n * KOZA EXTREME OPTIMIZATION: Narrative Domain State Machine\n * Targeted for 1M+ users. \n * Features: Request Deduplication, State-based Resolution, Sub-150ms logic overhead.\n */\n\n// Request Deduplication Registry\nconst activeRequests = new Map();\n\n// Result Caching Registry (LRU-like)\nconst responseCache = new Map();\nconst MAX_CACHE_SIZE = 50;\n\nexport const NarrativeDomain = {\n    // Pipeline States\n    STATES: {\n        IDLE: 'IDLE',\n        VALIDATING: 'VALIDATING',\n        SAFETY_CHECK: 'SAFETY_CHECK',\n        AI_COORDINATION: 'AI_COORDINATION',\n        MAPPING: 'MAPPING',\n        COMPLETED: 'COMPLETED',\n        FAILED: 'FAILED'\n    },\n\n    /**\n     * Constant-time resolver for domain mapping\n     */\n    resolveMetadata: (mode, title, input) => ({\n        type: mode,\n        title: title || (mode === 'story' ? 'D√∂n√º≈ü√ºm Hikayesi' : 'D√∂n√º≈ü√ºm Oyunu'),\n        userInput: input,\n        reflectionQuestion: \"Bu hikaye sana kendi g√ºc√ºn hakkƒ±nda ne s√∂yl√ºyor?\",\n        growthLesson: \"Zorluklar geli≈üimin habercisidir.\",\n        createdAt: new Date().toISOString()\n    }),\n\n    /**\n     * Processes narrative requests with O(1) deduplication, caching, and modular state transitions.\n     */\n    processNarrativeRequest: async (input, mode = 'story') => {\n        const requestId = `${mode}:${input.trim().toLowerCase()}`;\n\n        // 1. Check Response Cache (Extreme Speed)\n        if (responseCache.has(requestId)) {\n            console.log('üöÄ Optimization: Serving from Narrative Cache for:', requestId);\n            return responseCache.get(requestId);\n        }\n\n        // 2. Request Deduplication (Scale Hardening)\n        if (activeRequests.has(requestId)) {\n            console.warn('‚ö° Optimization: Deduplicating concurrent request for:', requestId);\n            return activeRequests.get(requestId);\n        }\n\n        const task = (async () => {\n            try {\n                // 3. Validation State\n                const validation = validateStoryInput(input);\n                if (!validation.isValid) throw new Error(validation.errors[0]);\n\n                // 4. Safety State\n                const safety = detectCrisis(validation.sanitized);\n                if (safety.isCrisis) {\n                    return { isSafetyTriggered: true, message: safety.message, redirect: 'SAFETY_RESOURCES' };\n                }\n\n                // 5. AI State (Parallel Processing)\n                const [result, generatedTitle] = await Promise.all([\n                    mode === 'story'\n                        ? generateStorybook(validation.sanitized)\n                        : generateGame(validation.sanitized),\n                    generateContentName(validation.sanitized)\n                ]);\n\n                // 6. Mapping State (O(1) Resolution)\n                const finalResult = {\n                    isSafetyTriggered: false,\n                    data: {\n                        ...NarrativeDomain.resolveMetadata(mode, generatedTitle, validation.sanitized),\n                        pages: mode === 'story' ? result.pages : undefined,\n                        levels: mode === 'game' ? result.levels : undefined,\n                        themeColor: result.themeColor || '#9333EA',\n                        visualMood: result.visualMood || 'Magical Shimmer'\n                    }\n                };\n\n                // 7. Update Cache\n                if (responseCache.size >= MAX_CACHE_SIZE) {\n                    const firstKey = responseCache.keys().next().value;\n                    responseCache.delete(firstKey);\n                }\n                responseCache.set(requestId, finalResult);\n\n                return finalResult;\n            } catch (error) {\n                console.error('Domain Lifecycle Error:', error);\n                throw new Error(`Optimizasyon Katmanƒ± Hatasƒ±: ${error.message}`);\n            } finally {\n                activeRequests.delete(requestId);\n            }\n        })();\n\n        activeRequests.set(requestId, task);\n        return task;\n    },\n\n    /**\n     * Refines an existing story based on user feedback.\n     */\n    processRefinementRequest: async (existingStory, feedback) => {\n        const requestId = `refine:${existingStory.id}:${feedback.trim().toLowerCase()}`;\n\n        if (activeRequests.has(requestId)) return activeRequests.get(requestId);\n\n        const task = (async () => {\n            try {\n                // 1. Validation \n                const validation = validateStoryInput(feedback);\n                if (!validation.isValid) throw new Error(validation.errors[0]);\n\n                // 2. Safety Check\n                const safety = detectCrisis(validation.sanitized);\n                if (safety.isCrisis) {\n                    return { isSafetyTriggered: true, message: safety.message };\n                }\n\n                // 3. AI Refinement\n                const [result, generatedTitle] = await Promise.all([\n                    import('../services/geminiService').then(m => m.refineStorybook(existingStory, validation.sanitized)),\n                    import('../services/geminiService').then(m => m.generateContentName(validation.sanitized))\n                ]);\n\n                // 4. Result Construction\n                return {\n                    isSafetyTriggered: false,\n                    data: {\n                        id: existingStory.id,\n                        ...NarrativeDomain.resolveMetadata('story', generatedTitle, existingStory.userInput + \" | Refinement: \" + validation.sanitized),\n                        pages: result.pages,\n                        themeColor: result.themeColor || existingStory.themeColor,\n                        visualMood: result.visualMood || existingStory.visualMood,\n                        refinedAt: new Date().toISOString()\n                    }\n                };\n            } catch (error) {\n                console.error('Refinement Domain Error:', error);\n                throw new Error(`Hikaye d√ºzenleme hatasƒ±: ${error.message}`);\n            } finally {\n                activeRequests.delete(requestId);\n            }\n        })();\n\n        activeRequests.set(requestId, task);\n        return task;\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyContainer.jsx"],"sourcesContent":["import React from 'react';\nimport './GalaxyContainer.css';\n\nconst GalaxyContainer = ({ children, className = \"\" }) => {\n    return (\n        <div className={`galaxy-container ${className}`}>\n            {children}\n        </div>\n    );\n};\n\nexport default GalaxyContainer;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGA,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE;IACjD,qBACI,6LAAC;QAAI,WAAW,CAAC,iBAAiB,EAAE,WAAW;kBAC1C;;;;;;AAGb;KANM;uCAQS"}},
    {"offset": {"line": 1123, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyTabs.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './GalaxyTabs.css';\n\nconst GalaxyTabs = ({ tabs = [], activeTab, onChange, className = \"\" }) => {\n    const [indicatorStyle, setIndicatorStyle] = useState({ left: 0, width: 0 });\n    const tabsRef = useRef([]);\n\n    useEffect(() => {\n        const activeIndex = tabs.findIndex(tab => tab.id === activeTab);\n        if (activeIndex !== -1 && tabsRef.current[activeIndex]) {\n            const element = tabsRef.current[activeIndex];\n            setIndicatorStyle({\n                left: element.offsetLeft,\n                width: element.offsetWidth\n            });\n        }\n    }, [activeTab, tabs]);\n\n    return (\n        <div className={`galaxy-tabs ${className}`}>\n            <div\n                className=\"galaxy-tab-indicator\"\n                style={{\n                    transform: `translateX(${indicatorStyle.left - 6}px)`, // -6 to account for padding\n                    width: indicatorStyle.width\n                }}\n            />\n            {tabs.map((tab, index) => (\n                <div\n                    key={tab.id}\n                    ref={el => tabsRef.current[index] = el}\n                    className={`galaxy-tab ${activeTab === tab.id ? 'active' : ''}`}\n                    onClick={() => onChange(tab.id)}\n                >\n                    {tab.icon && <tab.icon size={16} />}\n                    {tab.label}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default GalaxyTabs;\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGA,MAAM,aAAa,CAAC,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE;;IAClE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;QAAE,MAAM;QAAG,OAAO;IAAE;IACzE,MAAM,UAAU,IAAA,uKAAM,EAAC,EAAE;IAEzB,IAAA,0KAAS;gCAAC;YACN,MAAM,cAAc,KAAK,SAAS;oDAAC,CAAA,MAAO,IAAI,EAAE,KAAK;;YACrD,IAAI,gBAAgB,CAAC,KAAK,QAAQ,OAAO,CAAC,YAAY,EAAE;gBACpD,MAAM,UAAU,QAAQ,OAAO,CAAC,YAAY;gBAC5C,kBAAkB;oBACd,MAAM,QAAQ,UAAU;oBACxB,OAAO,QAAQ,WAAW;gBAC9B;YACJ;QACJ;+BAAG;QAAC;QAAW;KAAK;IAEpB,qBACI,6LAAC;QAAI,WAAW,CAAC,YAAY,EAAE,WAAW;;0BACtC,6LAAC;gBACG,WAAU;gBACV,OAAO;oBACH,WAAW,CAAC,WAAW,EAAE,eAAe,IAAI,GAAG,EAAE,GAAG,CAAC;oBACrD,OAAO,eAAe,KAAK;gBAC/B;;;;;;YAEH,KAAK,GAAG,CAAC,CAAC,KAAK,sBACZ,6LAAC;oBAEG,KAAK,CAAA,KAAM,QAAQ,OAAO,CAAC,MAAM,GAAG;oBACpC,WAAW,CAAC,WAAW,EAAE,cAAc,IAAI,EAAE,GAAG,WAAW,IAAI;oBAC/D,SAAS,IAAM,SAAS,IAAI,EAAE;;wBAE7B,IAAI,IAAI,kBAAI,6LAAC,IAAI,IAAI;4BAAC,MAAM;;;;;;wBAC5B,IAAI,KAAK;;mBANL,IAAI,EAAE;;;;;;;;;;;AAW/B;GArCM;KAAA;uCAuCS"}},
    {"offset": {"line": 1209, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyTextarea.jsx"],"sourcesContent":["import React from 'react';\nimport './GalaxyTextarea.css';\n\nconst GalaxyTextarea = ({ label, value, onChange, placeholder, disabled, rows = 4 }) => {\n    return (\n        <div className=\"galaxy-textarea-container\">\n            <textarea\n                className=\"galaxy-textarea\"\n                value={value}\n                onChange={(e) => onChange(e.target.value)}\n                placeholder={placeholder}\n                disabled={disabled}\n                rows={rows}\n            />\n            {label && <label className=\"galaxy-textarea-label\">{label}</label>}\n        </div>\n    );\n};\n\nexport default GalaxyTextarea;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,CAAC,EAAE;IAC/E,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBACG,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAa;gBACb,UAAU;gBACV,MAAM;;;;;;YAET,uBAAS,6LAAC;gBAAM,WAAU;0BAAyB;;;;;;;;;;;;AAGhE;KAdM;uCAgBS"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/uiverse/UiverseButton.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport './UiverseButton.css';\n\nconst UiverseButton = ({ children, onClick, variant = 'primary', className = '', type = 'button', disabled = false }) => {\n    const [ripples, setRipples] = useState([]);\n    const [magneticPos, setMagneticPos] = useState({ x: 0, y: 0 });\n    const buttonRef = useRef(null);\n\n    const handleMouseMove = (e) => {\n        if (!buttonRef.current || disabled) return;\n        const rect = buttonRef.current.getBoundingClientRect();\n        const centerX = rect.left + rect.width / 2;\n        const centerY = rect.top + rect.height / 2;\n\n        const dist = Math.hypot(e.clientX - centerX, e.clientY - centerY);\n        if (dist < 100) {\n            const moveX = (e.clientX - centerX) * 0.2;\n            const moveY = (e.clientY - centerY) * 0.2;\n            setMagneticPos({ x: moveX, y: moveY });\n        } else {\n            setMagneticPos({ x: 0, y: 0 });\n        }\n    };\n\n    const handleMouseLeave = () => {\n        setMagneticPos({ x: 0, y: 0 });\n    };\n\n    const createRipple = (e) => {\n        const button = e.currentTarget;\n        const rect = button.getBoundingClientRect();\n        const size = Math.max(rect.width, rect.height);\n        const x = e.clientX - rect.left - size / 2;\n        const y = e.clientY - rect.top - size / 2;\n\n        const newRipple = {\n            id: Date.now(),\n            x,\n            y,\n            size\n        };\n\n        setRipples([...ripples, newRipple]);\n        setTimeout(() => {\n            setRipples(prev => prev.filter(r => r.id !== newRipple.id));\n        }, 600);\n\n        if (onClick) onClick(e);\n    };\n\n    return (\n        <button\n            ref={buttonRef}\n            type={type}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={createRipple}\n            disabled={disabled}\n            className={`uiverse-button ${variant} ${className}`}\n            style={{\n                transform: `translate3d(${magneticPos.x}px, ${magneticPos.y}px, 0)`,\n                transition: magneticPos.x === 0 ? 'transform 0.5s cubic-bezier(0.23, 1, 0.32, 1)' : 'none'\n            }}\n        >\n            <span className=\"ripples\">\n                {ripples.map(ripple => (\n                    <span\n                        key={ripple.id}\n                        className=\"ripple\"\n                        style={{\n                            left: ripple.x,\n                            top: ripple.y,\n                            width: ripple.size,\n                            height: ripple.size\n                        }}\n                    />\n                ))}\n            </span>\n            <span className=\"button-content\">{children}</span>\n        </button>\n    );\n};\n\nexport default UiverseButton;\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGA,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,SAAS,EAAE,YAAY,EAAE,EAAE,OAAO,QAAQ,EAAE,WAAW,KAAK,EAAE;;IAChH,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAC5D,MAAM,YAAY,IAAA,uKAAM,EAAC;IAEzB,MAAM,kBAAkB,CAAC;QACrB,IAAI,CAAC,UAAU,OAAO,IAAI,UAAU;QACpC,MAAM,OAAO,UAAU,OAAO,CAAC,qBAAqB;QACpD,MAAM,UAAU,KAAK,IAAI,GAAG,KAAK,KAAK,GAAG;QACzC,MAAM,UAAU,KAAK,GAAG,GAAG,KAAK,MAAM,GAAG;QAEzC,MAAM,OAAO,KAAK,KAAK,CAAC,EAAE,OAAO,GAAG,SAAS,EAAE,OAAO,GAAG;QACzD,IAAI,OAAO,KAAK;YACZ,MAAM,QAAQ,CAAC,EAAE,OAAO,GAAG,OAAO,IAAI;YACtC,MAAM,QAAQ,CAAC,EAAE,OAAO,GAAG,OAAO,IAAI;YACtC,eAAe;gBAAE,GAAG;gBAAO,GAAG;YAAM;QACxC,OAAO;YACH,eAAe;gBAAE,GAAG;gBAAG,GAAG;YAAE;QAChC;IACJ;IAEA,MAAM,mBAAmB;QACrB,eAAe;YAAE,GAAG;YAAG,GAAG;QAAE;IAChC;IAEA,MAAM,eAAe,CAAC;QAClB,MAAM,SAAS,EAAE,aAAa;QAC9B,MAAM,OAAO,OAAO,qBAAqB;QACzC,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,EAAE,KAAK,MAAM;QAC7C,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,IAAI,GAAG,OAAO;QACzC,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,GAAG,GAAG,OAAO;QAExC,MAAM,YAAY;YACd,IAAI,KAAK,GAAG;YACZ;YACA;YACA;QACJ;QAEA,WAAW;eAAI;YAAS;SAAU;QAClC,WAAW;YACP,WAAW,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,UAAU,EAAE;QAC7D,GAAG;QAEH,IAAI,SAAS,QAAQ;IACzB;IAEA,qBACI,6LAAC;QACG,KAAK;QACL,MAAM;QACN,aAAa;QACb,cAAc;QACd,SAAS;QACT,UAAU;QACV,WAAW,CAAC,eAAe,EAAE,QAAQ,CAAC,EAAE,WAAW;QACnD,OAAO;YACH,WAAW,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC,MAAM,CAAC;YACnE,YAAY,YAAY,CAAC,KAAK,IAAI,kDAAkD;QACxF;;0BAEA,6LAAC;gBAAK,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAA,uBACT,6LAAC;wBAEG,WAAU;wBACV,OAAO;4BACH,MAAM,OAAO,CAAC;4BACd,KAAK,OAAO,CAAC;4BACb,OAAO,OAAO,IAAI;4BAClB,QAAQ,OAAO,IAAI;wBACvB;uBAPK,OAAO,EAAE;;;;;;;;;;0BAW1B,6LAAC;gBAAK,WAAU;0BAAkB;;;;;;;;;;;;AAG9C;GA9EM;KAAA;uCAgFS"}},
    {"offset": {"line": 1385, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyButton.jsx"],"sourcesContent":["import React from 'react';\nimport UiverseButton from '../uiverse/UiverseButton';\n\nconst GalaxyButton = (props) => {\n    return <UiverseButton {...props} />;\n};\n\nexport default GalaxyButton;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,eAAe,CAAC;IAClB,qBAAO,6LAAC,4JAAa;QAAE,GAAG,KAAK;;;;;;AACnC;KAFM;uCAIS"}},
    {"offset": {"line": 1415, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyAlert.jsx"],"sourcesContent":["import React from 'react';\nimport { Info, CheckCircle, AlertTriangle, AlertCircle } from 'lucide-react';\nimport './GalaxyAlert.css';\n\nconst ICONS = {\n    info: Info,\n    success: CheckCircle,\n    warning: AlertTriangle,\n    error: AlertCircle\n};\n\nconst GalaxyAlert = ({ type = 'info', title, children }) => {\n    const Icon = ICONS[type] || ICONS.info;\n\n    return (\n        <div className={`galaxy-alert ${type}`}>\n            <Icon className=\"galaxy-alert-icon\" size={20} strokeWidth={2} />\n            <div className=\"galaxy-alert-content\">\n                {title && <h4 className=\"galaxy-alert-title\">{title}</h4>}\n                <div className=\"galaxy-alert-message\">\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default GalaxyAlert;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;;AAGA,MAAM,QAAQ;IACV,MAAM,6MAAI;IACV,SAAS,6OAAW;IACpB,SAAS,4OAAa;IACtB,OAAO,sOAAW;AACtB;AAEA,MAAM,cAAc,CAAC,EAAE,OAAO,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE;IACnD,MAAM,OAAO,KAAK,CAAC,KAAK,IAAI,MAAM,IAAI;IAEtC,qBACI,6LAAC;QAAI,WAAW,CAAC,aAAa,EAAE,MAAM;;0BAClC,6LAAC;gBAAK,WAAU;gBAAoB,MAAM;gBAAI,aAAa;;;;;;0BAC3D,6LAAC;gBAAI,WAAU;;oBACV,uBAAS,6LAAC;wBAAG,WAAU;kCAAsB;;;;;;kCAC9C,6LAAC;wBAAI,WAAU;kCACV;;;;;;;;;;;;;;;;;;AAKrB;KAdM;uCAgBS"}},
    {"offset": {"line": 1492, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/uiverse/UiverseCard.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport './UiverseCard.css';\n\nconst UiverseCard = ({ children, className = '', onClick }) => {\n    const cardRef = useRef(null);\n\n    const handleMouseMove = (e) => {\n        if (!cardRef.current) return;\n        const rect = cardRef.current.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n\n        // Calculate rotation based on mouse position relative to center\n        const centerX = rect.width / 2;\n        const centerY = rect.height / 2;\n        const rotateX = (centerY - y) / 15;\n        const rotateY = (x - centerX) / 15;\n\n        cardRef.current.style.setProperty('--mouse-x', `${x}px`);\n        cardRef.current.style.setProperty('--mouse-y', `${y}px`);\n        cardRef.current.style.setProperty('--rotate-x', rotateX);\n        cardRef.current.style.setProperty('--rotate-y', rotateY);\n    };\n\n    const handleMouseLeave = () => {\n        if (!cardRef.current) return;\n        cardRef.current.style.setProperty('--rotate-x', 0);\n        cardRef.current.style.setProperty('--rotate-y', 0);\n    };\n\n    return (\n        <div\n            ref={cardRef}\n            className={`uiverse-card-container ${className}`}\n            onClick={onClick}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n        >\n            <div className=\"uiverse-card\">\n                <div className=\"card-shine\" />\n                <div className=\"card-content\">\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default UiverseCard;\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGA,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE;;IACtD,MAAM,UAAU,IAAA,uKAAM,EAAC;IAEvB,MAAM,kBAAkB,CAAC;QACrB,IAAI,CAAC,QAAQ,OAAO,EAAE;QACtB,MAAM,OAAO,QAAQ,OAAO,CAAC,qBAAqB;QAClD,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,IAAI;QAC/B,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,GAAG;QAE9B,gEAAgE;QAChE,MAAM,UAAU,KAAK,KAAK,GAAG;QAC7B,MAAM,UAAU,KAAK,MAAM,GAAG;QAC9B,MAAM,UAAU,CAAC,UAAU,CAAC,IAAI;QAChC,MAAM,UAAU,CAAC,IAAI,OAAO,IAAI;QAEhC,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,GAAG,EAAE,EAAE,CAAC;QACvD,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,GAAG,EAAE,EAAE,CAAC;QACvD,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc;QAChD,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc;IACpD;IAEA,MAAM,mBAAmB;QACrB,IAAI,CAAC,QAAQ,OAAO,EAAE;QACtB,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc;QAChD,QAAQ,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc;IACpD;IAEA,qBACI,6LAAC;QACG,KAAK;QACL,WAAW,CAAC,uBAAuB,EAAE,WAAW;QAChD,SAAS;QACT,aAAa;QACb,cAAc;kBAEd,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;8BACV;;;;;;;;;;;;;;;;;AAKrB;GA3CM;KAAA;uCA6CS"}},
    {"offset": {"line": 1573, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyCard.jsx"],"sourcesContent":["import React from 'react';\nimport UiverseCard from '../uiverse/UiverseCard';\n\nconst GalaxyCard = ({ children, className = '', title, subtitle, emoji, onClick, gradient }) => {\n    // Map existing props to a layout inside UiverseCard\n    // UiverseCard already has a \"liquid crystal\" background, so we don't need 'galaxy-card-dots' unless we want to keep them.\n    // The user requested \"redesign using uiverse.io\", so we should infer using the NEW style mostly.\n\n    return (\n        <UiverseCard className={className} onClick={onClick}>\n            {(title || subtitle || emoji) && (\n                <div className=\"flex flex-col items-center mb-4 text-center\">\n                    {emoji && <div className=\"text-4xl mb-2\">{emoji}</div>}\n                    {title && <h3 className=\"text-xl font-bold text-neutral-900 mb-1\">{title}</h3>}\n                    {subtitle && <p className=\"text-sm text-neutral-500 opacity-80\">{subtitle}</p>}\n                </div>\n            )}\n            {children}\n        </UiverseCard>\n    );\n};\n\nexport default GalaxyCard;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE;IACvF,oDAAoD;IACpD,0HAA0H;IAC1H,iGAAiG;IAEjG,qBACI,6LAAC,0JAAW;QAAC,WAAW;QAAW,SAAS;;YACvC,CAAC,SAAS,YAAY,KAAK,mBACxB,6LAAC;gBAAI,WAAU;;oBACV,uBAAS,6LAAC;wBAAI,WAAU;kCAAiB;;;;;;oBACzC,uBAAS,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;oBAClE,0BAAY,6LAAC;wBAAE,WAAU;kCAAuC;;;;;;;;;;;;YAGxE;;;;;;;AAGb;KAjBM;uCAmBS"}},
    {"offset": {"line": 1643, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyGrid.jsx"],"sourcesContent":["import React from 'react';\nimport './GalaxyGrid.css';\n\nconst GalaxyGrid = ({ children, cols = 3, className = \"\" }) => {\n    return (\n        <div className={`galaxy-grid cols-${cols} ${className}`}>\n            {children}\n        </div>\n    );\n};\n\nexport default GalaxyGrid;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGA,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE,OAAO,CAAC,EAAE,YAAY,EAAE,EAAE;IACtD,qBACI,6LAAC;QAAI,WAAW,CAAC,iBAAiB,EAAE,KAAK,CAAC,EAAE,WAAW;kBAClD;;;;;;AAGb;KANM;uCAQS"}},
    {"offset": {"line": 1673, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/components/galaxy/GalaxyStat.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './GalaxyStat.css';\n\nconst GalaxyStat = ({ label, value, icon: Icon, suffix = \"\" }) => {\n    const [count, setCount] = useState(0);\n\n    // Simple count up animation\n    useEffect(() => {\n        let start = 0;\n        const end = parseInt(value) || 0;\n        if (start === end) return;\n\n        const duration = 2000;\n        const incrementTime = 20; // ms\n        const step = Math.ceil(end / (duration / incrementTime));\n\n        const timer = setInterval(() => {\n            start += step;\n            if (start >= end) {\n                setCount(end);\n                clearInterval(timer);\n            } else {\n                setCount(start);\n            }\n        }, incrementTime);\n\n        return () => clearInterval(timer);\n    }, [value]);\n\n    return (\n        <div className=\"galaxy-stat\">\n            {Icon && (\n                <div className=\"galaxy-stat-icon\">\n                    <Icon size={20} strokeWidth={2.5} />\n                </div>\n            )}\n            <div className=\"galaxy-stat-value\">\n                {typeof value === 'number' ? count : value}{suffix}\n            </div>\n            <div className=\"galaxy-stat-label\">{label}</div>\n        </div>\n    );\n};\n\nexport default GalaxyStat;\n"],"names":[],"mappings":";;;;;AAAA;;;;;AAGA,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,SAAS,EAAE,EAAE;;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,4BAA4B;IAC5B,IAAA,0KAAS;gCAAC;YACN,IAAI,QAAQ;YACZ,MAAM,MAAM,SAAS,UAAU;YAC/B,IAAI,UAAU,KAAK;YAEnB,MAAM,WAAW;YACjB,MAAM,gBAAgB,IAAI,KAAK;YAC/B,MAAM,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,WAAW,aAAa;YAEtD,MAAM,QAAQ;8CAAY;oBACtB,SAAS;oBACT,IAAI,SAAS,KAAK;wBACd,SAAS;wBACT,cAAc;oBAClB,OAAO;wBACH,SAAS;oBACb;gBACJ;6CAAG;YAEH;wCAAO,IAAM,cAAc;;QAC/B;+BAAG;QAAC;KAAM;IAEV,qBACI,6LAAC;QAAI,WAAU;;YACV,sBACG,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAK,MAAM;oBAAI,aAAa;;;;;;;;;;;0BAGrC,6LAAC;gBAAI,WAAU;;oBACV,OAAO,UAAU,WAAW,QAAQ;oBAAO;;;;;;;0BAEhD,6LAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;;AAGhD;GAvCM;KAAA;uCAyCS"}},
    {"offset": {"line": 1769, "column": 0}, "map": {"version":3,"sources":["file:///Users/orwell/KOZA/src/tabs/CreateTab.jsx"],"sourcesContent":["'use client';\nimport React, { useState, useMemo, useCallback, memo } from 'react';\nimport { useUser } from '../context/UserContext';\nimport { useStory } from '../context/StoryContext';\nimport { useUI } from '../context/UIContext';\nimport { useAuth } from '../context/AuthContext';\nimport { NarrativeDomain } from '../domain/narrativeDomain';\nimport { SAFETY_DISCLAIMER } from '../utils/safety';\nimport { Sparkles, BookOpen, Gamepad2, AlertCircle, Zap, Star, GamepadIcon, HeadphonesIcon } from 'lucide-react';\n\nimport GalaxyContainer from '../components/galaxy/GalaxyContainer';\nimport GalaxyTabs from '../components/galaxy/GalaxyTabs';\nimport GalaxyTextarea from '../components/galaxy/GalaxyTextarea';\nimport GalaxyButton from '../components/galaxy/GalaxyButton';\nimport GalaxyAlert from '../components/galaxy/GalaxyAlert';\nimport GalaxyCard from '../components/galaxy/GalaxyCard';\nimport GalaxyGrid from '../components/galaxy/GalaxyGrid';\nimport GalaxyStat from '../components/galaxy/GalaxyStat';\nimport KozaLoader from '../components/ui/KozaLoader';\n\n// Memoized Sub-Components for Scale\nconst CreateHeader = memo(() => (\n    <div className=\"text-center mb-16 px-4\">\n        <div className=\"galaxy-badge primary mb-6 group cursor-default\">\n            <Sparkles size={14} className=\"group-hover:rotate-12 transition-liquid\" />\n            <span>AI-Powered Metamorphosis</span>\n        </div>\n        <h1 className=\"text-5xl font-black mb-4 tracking-tighter italic text-shimmer\">\n            Transform Experience\n        </h1>\n        <p className=\"text-neutral-500 text-lg font-medium max-w-xl mx-auto leading-relaxed\">\n            Turn your challenges into empowering stories and immersive games.\n        </p>\n    </div>\n));\n\nconst StatsSection = memo(({ user }) => (\n    <div className=\"mt-20\">\n        <GalaxyGrid cols={3}>\n            <GalaxyStat icon={BookOpen} label=\"Olu≈üturulan Hikayeler\" value={user?.storiesCreated || 0} />\n            <GalaxyStat icon={GamepadIcon} label=\"Olu≈üturulan Oyunlar\" value={user?.gamesCreated || 0} />\n            <GalaxyStat icon={HeadphonesIcon} label=\"Olu≈üturulan Sesli Kitaplar\" value={Math.floor((user?.storiesCreated || 0) * 0.4)} />\n        </GalaxyGrid>\n    </div>\n));\n\nconst CreateTab = () => {\n    const { user, awardXP } = useUser();\n    const {\n        activeStory, setActiveStory,\n        isProcessing, setIsProcessing,\n        analysisResult, setAnalysisResult,\n        saveStory\n    } = useStory();\n    const { setCurrentView, addToast } = useUI();\n    const { isAdmin } = useAuth();\n\n    const [stage, setStage] = useState('');\n    const [error, setError] = useState(null);\n    const [creationMode, setCreationMode] = useState('story');\n\n    const handleGenerate = useCallback(async () => {\n        if (!activeStory.trim() || isProcessing) return;\n        setError(null);\n        setIsProcessing(true);\n        setStage('Metamorfoz ba≈ülƒ±yor...');\n\n        try {\n            const result = await NarrativeDomain.processNarrativeRequest(activeStory, creationMode);\n            if (result.isSafetyTriggered) {\n                setError(result.message);\n                if (isAdmin) addToast('warning', 'G√ºvenlik Uyarƒ±sƒ±', 'Giri≈üin g√ºvenlik filtrelerimize takƒ±ldƒ±.');\n                return;\n            }\n\n            const { data } = result;\n            setAnalysisResult({ type: creationMode, category: data.title, data });\n            saveStory(data);\n            awardXP(500, creationMode === 'story' ? 'Hikaye olu≈üturuldu' : 'Oyun olu≈üturuldu');\n            addToast('success', 'Ba≈üarƒ±lƒ±!', creationMode === 'story' ? 'Hikaye olu≈üturuldu' : 'Oyun olu≈üturuldu');\n        } catch (error) {\n            console.error('Generation failed:', error);\n            setError(error.message || 'Bir hata olu≈ütu. L√ºtfen tekrar deneyin.');\n            if (isAdmin) addToast('error', 'Hata', error.message || 'Olu≈üturma ba≈üarƒ±sƒ±z oldu');\n        } finally {\n            setIsProcessing(false);\n            setStage('');\n        }\n    }, [activeStory, creationMode, isProcessing, isAdmin, setIsProcessing, setAnalysisResult, saveStory, awardXP, addToast]);\n\n    const viewResult = useCallback(() => {\n        if (analysisResult) {\n            setCurrentView({ type: analysisResult.type, data: analysisResult.data });\n            setActiveStory('');\n            setAnalysisResult(null);\n        }\n    }, [analysisResult, setCurrentView, setActiveStory, setAnalysisResult]);\n\n    return (\n        <GalaxyContainer className=\"py-8\">\n            <CreateHeader />\n\n            <div className=\"max-w-2xl mx-auto\">\n                {!analysisResult ? (\n                    <div className=\"space-y-8\">\n                        <div className=\"flex justify-center\">\n                            <GalaxyTabs\n                                activeTab={creationMode}\n                                onChange={setCreationMode}\n                                tabs={[\n                                    { id: 'story', label: 'Hikaye', icon: BookOpen },\n                                    { id: 'game', label: 'Oyun', icon: Gamepad2 }\n                                ]}\n                            />\n                        </div>\n\n                        <div className=\"animate-slide-up\">\n                            <GalaxyTextarea\n                                value={activeStory}\n                                onChange={setActiveStory}\n                                placeholder={creationMode === 'story' ? \"Zorlandƒ±ƒüƒ±n bir anƒ± anlat, hikaye olsun...\" : \"Bir zorluƒüu anlat, √ºstesinden gelme oyunu olsun...\"}\n                                disabled={isProcessing}\n                                minHeight=\"150px\"\n                            />\n\n                            <div className=\"mt-6 flex justify-end\">\n                                <GalaxyButton\n                                    onClick={handleGenerate}\n                                    disabled={!activeStory.trim() || isProcessing}\n                                    icon={Sparkles}\n                                    variant=\"magic\"\n                                >\n                                    {creationMode === 'story' ? 'Hikayeye D√∂n√º≈üt√ºr' : 'Oyuna D√∂n√º≈üt√ºr'}\n                                </GalaxyButton>\n                            </div>\n                        </div>\n\n                        {error && isAdmin && (\n                            <GalaxyAlert type=\"error\" title=\"Giri≈ü Hatasƒ±\">\n                                {error}\n                            </GalaxyAlert>\n                        )}\n\n                        {isProcessing && (\n                            <div className=\"mt-12 animate-fade-in flex flex-col items-center gap-4\">\n                                <KozaLoader size=\"large\" message={stage} />\n                            </div>\n                        )}\n\n                        <div className=\"mt-8 p-4 bg-neutral-50/50 rounded-xl border border-neutral-100/50 text-center\">\n                            <p className=\"text-xs text-neutral-400 font-medium italic\">\n                                üîî {SAFETY_DISCLAIMER}\n                            </p>\n                        </div>\n                    </div>\n                ) : (\n                    <GalaxyCard\n                        className=\"text-center\"\n                        title={analysisResult.category}\n                        subtitle={analysisResult.type === 'story' ? 'Hikaye Tamamlandƒ±' : 'Oyun Hazƒ±r'}\n                        emoji={analysisResult.type === 'story' ? 'üìñ' : 'üéÆ'}\n                    >\n                        <p className=\"text-neutral-500 text-lg mb-10\">\n                            {analysisResult.type === 'story'\n                                ? 'Deneyimin artƒ±k moral verici bir hikaye.'\n                                : 'Zorluƒüun artƒ±k heyecanlƒ± bir oyun.'}\n                        </p>\n\n                        <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n                            <GalaxyButton onClick={viewResult}>\n                                {analysisResult.type === 'story' ? 'Hikayeyi Oku' : 'Oyunu Oyna'}\n                            </GalaxyButton>\n                            <GalaxyButton\n                                onClick={() => {\n                                    setAnalysisResult(null);\n                                    setActiveStory('');\n                                }}\n                                variant=\"secondary\"\n                            >\n                                Yeni Olu≈ütur\n                            </GalaxyButton>\n                        </div>\n                    </GalaxyCard>\n                )}\n            </div>\n\n            <StatsSection user={user} />\n        </GalaxyContainer>\n    );\n};\n\nexport default memo(CreateTab);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2193, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/gamepad.js","sources":["file:///Users/orwell/KOZA/node_modules/lucide-react/src/icons/gamepad.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '6', x2: '10', y1: '12', y2: '12', key: '161bw2' }],\n  ['line', { x1: '8', x2: '8', y1: '10', y2: '14', key: '1i6ji0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '13', y2: '13', key: 'dqpgro' }],\n  ['line', { x1: '18', x2: '18.01', y1: '11', y2: '11', key: 'meh2c' }],\n  ['rect', { width: '20', height: '12', x: '2', y: '6', rx: '2', key: '9lu3g6' }],\n];\n\n/**\n * @component @name Gamepad\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNiIgeDI9IjEwIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjgiIHkxPSIxMCIgeTI9IjE0IiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjE1LjAxIiB5MT0iMTMiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMTgiIHgyPSIxOC4wMSIgeTE9IjExIiB5Mj0iMTEiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/gamepad\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gamepad = createLucideIcon('gamepad', __iconNode);\n\nexport default Gamepad;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACjE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAK,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAChE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAS,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACrE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAS,EAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAS;KAAA;IACpE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA;YAAK,GAAG,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA;YAAK,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAChF;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,OAAA,CAAA,CAAA,KAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 2275, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/headphones.js","sources":["file:///Users/orwell/KOZA/node_modules/lucide-react/src/icons/headphones.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3',\n      key: '1xhozi',\n    },\n  ],\n];\n\n/**\n * @component @name Headphones\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxNGgzYTIgMiAwIDAgMSAyIDJ2M2EyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtN2E5IDkgMCAwIDEgMTggMHY3YTIgMiAwIDAgMS0yIDJoLTFhMiAyIDAgMCAxLTItMnYtM2EyIDIgMCAwIDEgMi0yaDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/headphones\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Headphones = createLucideIcon('headphones', __iconNode);\n\nexport default Headphones;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA;YACE,CAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,GAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA;KACP;CAEJ;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,KAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}