module.exports=[70180,a=>{"use strict";var b=a.i(87924),c=a.i(29338),d=a.i(51480),e=a.i(79848);a.s(["default",0,()=>{let[a,f]=useState("local"),[g,h]=useState([]),[i,j]=useState(null),[k,l]=useState(!1),[m,n]=useState(!0),[o,p]=useState(!0),[q,r]=useState(null),s=useRef(null),{user:t}=(0,c.useAuth)(),{user:u}=(0,d.useUser)(),v=t?.uid||null,w=u?.displayName||t?.displayName||"Gezgin",x=u?.avatarUrl||t?.photoURL||"",y=useCallback(async(b=!1)=>{if(!k||b){l(!0),r(null);try{let c=await (0,e.getPublicFeed)(a,b?null:i);h(a=>b?c.posts:[...a,...c.posts]),j(c.lastDoc),p(c.posts.length>=20&&!!c.lastDoc)}catch(a){console.error("Feed error:",a),r("Paylaşımlar yüklenemedi. Lütfen internet bağlantınızı kontrol edin.")}finally{l(!1),n(!1)}}},[a,i,k]);return useEffect(()=>{n(!0),h([]),setCursor(null),p(!0),y(!0)},[a]),useEffect(()=>{if(!o||k||q)return;let a=new IntersectionObserver(a=>{a[0].isIntersecting&&y(!1)},{threshold:.1});return s.current&&a.observe(s.current),()=>a.disconnect()},[o,k,y]),(0,b.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-0 shrink-0",children:[(0,b.jsx)("div",{className:"flex gap-1 bg-neutral-900 border border-neutral-800 rounded-xl p-1",children:TABS.map(c=>(0,b.jsx)("button",{onClick:()=>f(c.id),className:`px-4 py-1.5 text-xs font-semibold rounded-lg transition-all ${a===c.id?"bg-primary-600 text-white shadow-lg shadow-primary-500/20":"text-neutral-400 hover:text-white"}`,children:c.label},c.id))}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>y(!0),disabled:k,className:"p-2 rounded-xl text-neutral-500 hover:text-white hover:bg-neutral-800 transition-colors disabled:opacity-30",title:"Yenile",children:(0,b.jsx)(RefreshCw,{size:15,className:k?"animate-spin":""})}),(0,b.jsx)(NotificationCenter,{currentUserId:v})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-0",children:[(0,b.jsx)(PostComposer,{currentUserId:v,userName:w,avatarUrl:x,onPostSuccess:()=>y(!0)}),m&&(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(Loader2,{className:"w-8 h-8 text-primary-500 animate-spin mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Topluluk yükleniyor..."})]})}),q&&!m&&(0,b.jsxs)("div",{className:"bg-red-950/30 border border-red-900/50 rounded-2xl p-6 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-red-400 mb-3",children:q}),(0,b.jsx)("button",{onClick:()=>y(!0),className:"text-xs text-red-300 hover:text-white",children:"Tekrar Dene"})]}),!m&&!q&&0===g.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,b.jsx)(Hash,{className:"w-10 h-10 text-neutral-700 mb-4"}),(0,b.jsx)("p",{className:"text-neutral-500 text-sm",children:"Henüz gönderi yok."}),(0,b.jsx)("p",{className:"text-neutral-700 text-xs mt-1",children:"İlk paylaşımı sen yap!"})]}),(0,b.jsx)("div",{className:"space-y-3",children:g.map(a=>(0,b.jsx)(PostCard,{post:a},a.id))}),(0,b.jsxs)("div",{ref:s,className:"h-10 flex items-center justify-center",children:[k&&!m&&(0,b.jsx)(Loader2,{className:"w-5 h-5 text-neutral-600 animate-spin"}),!o&&g.length>0&&(0,b.jsx)("p",{className:"text-xs text-neutral-700",children:"Tüm gönderiler yüklendi"})]})]})]})}])}];

//# sourceMappingURL=src_tabs_CommunityTab_jsx_700ae792._.js.map