(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5665,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a=({children:e,onClick:a,variant:i="primary",className:l="",type:r="button",disabled:n=!1})=>{let[o,c]=(0,s.useState)([]),[d,h]=(0,s.useState)({x:0,y:0}),x=(0,s.useRef)(null);return(0,t.jsxs)("button",{ref:x,type:r,onMouseMove:e=>{if(!x.current||n)return;let t=x.current.getBoundingClientRect(),s=t.left+t.width/2,a=t.top+t.height/2;100>Math.hypot(e.clientX-s,e.clientY-a)?h({x:(e.clientX-s)*.2,y:(e.clientY-a)*.2}):h({x:0,y:0})},onMouseLeave:()=>{h({x:0,y:0})},onClick:e=>{let t=e.currentTarget.getBoundingClientRect(),s=Math.max(t.width,t.height),i=e.clientX-t.left-s/2,l=e.clientY-t.top-s/2,r={id:Date.now(),x:i,y:l,size:s};c([...o,r]),setTimeout(()=>{c(e=>e.filter(e=>e.id!==r.id))},600),a&&a(e)},disabled:n,className:`uiverse-button ${i} ${l}`,style:{transform:`translate3d(${d.x}px, ${d.y}px, 0)`,transition:0===d.x?"transform 0.5s cubic-bezier(0.23, 1, 0.32, 1)":"none"},children:[(0,t.jsx)("span",{className:"ripples",children:o.map(e=>(0,t.jsx)("span",{className:"ripple",style:{left:e.x,top:e.y,width:e.size,height:e.size}},e.id))}),(0,t.jsx)("span",{className:"button-content",children:e})]})};e.s(["default",0,e=>(0,t.jsx)(a,{...e})],5665)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},60530,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75254);let i=(0,a.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),l=(0,a.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var r=e.i(37727);let n=(0,a.default)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),o=(0,a.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),c=(0,a.default)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),d=(0,a.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),h=(0,a.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),x=(0,a.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),u=(0,a.default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),m=(0,a.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),p=(0,a.default)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),f=(0,a.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var y=e.i(83086),g=e.i(31278);let b=({color:e="#9333EA",intensity:a=1,active:i=!0})=>{let l=(0,s.useRef)(null),r=(0,s.useRef)({x:-1e3,y:-1e3});return(0,s.useEffect)(()=>{let e,t=l.current;if(!t)return;let s=t.getContext("2d"),n=[],o=60*a;class c{constructor(){this.reset(!0)}reset(e=!1){this.x=e?Math.random()*t.width:Math.random()>.5?-10:t.width+10,this.y=Math.random()*t.height,this.size=6*Math.random()+2,this.baseSpeedX=(Math.random()-.5)*2,this.baseSpeedY=(Math.random()-.5)*2,this.vx=this.baseSpeedX,this.vy=this.baseSpeedY,this.rotation=Math.random()*Math.PI*2,this.rotSpeed=(Math.random()-.5)*.05,this.opacity=.5*Math.random()+.2,this.life=300*Math.random()+200,this.sides=Math.random()>.5?3:4,this.history=[],this.maxHistory=10}update(){let e=r.current.x-this.x,s=r.current.y-this.y,a=Math.sqrt(e*e+s*s);if(a<150){let t=(150-a)/150;this.vx+=e/a*t*.5,this.vy+=s/a*t*.5}this.vx*=.95,this.vy*=.95,this.vx+=.05*this.baseSpeedX,this.vy+=.05*this.baseSpeedY,this.x+=this.vx,this.y+=this.vy,this.rotation+=this.rotSpeed,this.life-=1,this.history.push({x:this.x,y:this.y}),this.history.length>this.maxHistory&&this.history.shift(),(this.life<=0||this.x<-100||this.x>t.width+100||this.y<-100||this.y>t.height+100)&&this.reset()}draw(){if(this.history.length>2){s.beginPath(),s.moveTo(this.history[0].x,this.history[0].y);for(let e=1;e<this.history.length;e++)s.lineTo(this.history[e].x,this.history[e].y);s.strokeStyle=`hsla(${50*this.rotation%360}, 70%, 70%, ${.3*this.opacity})`,s.lineWidth=this.size/2,s.stroke()}s.save(),s.translate(this.x,this.y),s.rotate(this.rotation),s.beginPath();let e=2*Math.PI/this.sides;s.moveTo(this.size,0);for(let t=1;t<=this.sides;t++)s.lineTo(this.size*Math.cos(e*t),this.size*Math.sin(e*t));s.closePath();let t=50*this.rotation%360;s.fillStyle=`hsla(${t}, 85%, 60%, ${this.opacity})`,s.fill(),s.strokeStyle=`rgba(255, 255, 255, ${.8*this.opacity})`,s.lineWidth=1,s.stroke(),s.restore()}}let d=()=>{n.length=0;for(let e=0;e<o;e++)n.push(new c)},h=()=>{let e=t.parentElement;e&&(t.width=e.offsetWidth,t.height=e.offsetHeight,d())},x=e=>{let s=t.getBoundingClientRect();r.current={x:e.clientX-s.left,y:e.clientY-s.top}},u=()=>{if(!i){e=requestAnimationFrame(u);return}s.clearRect(0,0,t.width,t.height),n.forEach(e=>{e.update(),e.draw()}),e=requestAnimationFrame(u)};return window.addEventListener("resize",h),window.addEventListener("mousemove",x),h(),d(),u(),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",h),window.removeEventListener("mousemove",x)}},[e,a,i]),(0,t.jsx)("canvas",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-0",style:{mixBlendMode:"normal"}})};var v=e.i(5665);let w=({value:e,onChange:a,onSend:i,placeholder:l,disabled:r,onFileSelect:n})=>{let o=s.default.useRef(null);return s.default.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=o.current.scrollHeight+"px")},[e]),(0,t.jsxs)("div",{className:`messageBox ${r?"opacity-50 cursor-not-allowed":""}`,children:[(0,t.jsxs)("div",{className:"fileUploadWrapper",children:[(0,t.jsxs)("label",{htmlFor:"file",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 337 337",children:[(0,t.jsx)("circle",{strokeWidth:"20",stroke:"currentColor",fill:"none",r:"158.5",cy:"168.5",cx:"168.5"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeWidth:"25",stroke:"currentColor",d:"M167.759 79V259"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeWidth:"25",stroke:"currentColor",d:"M79 167.138H259"})]}),(0,t.jsx)("span",{className:"tooltip",children:"Resim Ekle (Yakında)"})]}),(0,t.jsx)("input",{type:"file",id:"file",name:"file",disabled:r,onChange:e=>n&&n(e.target.files[0])})]}),(0,t.jsx)("textarea",{ref:o,required:"",placeholder:l||"Deneyimini buraya yaz...",id:"messageInput",value:e,onChange:e=>a(e.target.value),onKeyDown:t=>{"Enter"===t.key&&!t.shiftKey&&e.trim()&&(t.preventDefault(),i())},disabled:r,rows:1}),(0,t.jsx)("button",{id:"sendButton",onClick:i,disabled:r||!e.trim(),type:"button",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 664 663",children:[(0,t.jsx)("path",{fill:"none",d:"M646.293 331.888L17.7538 17.6187L155.245 331.888M646.293 331.888L17.753 646.157L155.245 331.888M646.293 331.888L318.735 330.228L155.245 331.888"}),(0,t.jsx)("path",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"33.67",stroke:"currentColor",d:"M646.293 331.888L17.7538 17.6187L155.245 331.888M646.293 331.888L17.753 646.157L155.245 331.888M646.293 331.888L318.735 330.228L155.245 331.888"})]})})]})};var j=e.i(4839);let k=(0,s.memo)(({title:e,currentPage:s,totalPages:a,onPrev:m,onNext:f,onReset:y,onJump:b,onToggleFullscreen:v,onPrint:w,onShare:j,onMastodonShare:k,isMastodonSharing:N,onToggleAudio:M,isSpeaking:C,onClose:z})=>(0,t.jsxs)("header",{className:"h-16 bg-white border-b border-neutral-200 px-6 flex items-center justify-between z-50 shadow-sm shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n,{size:20,className:"text-neutral-400"}),(0,t.jsx)("h1",{className:"font-bold text-neutral-800 text-sm tracking-tight truncate max-w-[200px]",children:e}),(0,t.jsx)("button",{onClick:y,title:"En Başa Dön",className:"flex items-center gap-1 ml-4 py-1 px-2 hover:bg-neutral-50 rounded-lg transition-colors cursor-pointer",children:(0,t.jsx)(o,{size:16,className:"text-neutral-400"})}),(0,t.jsx)("button",{onClick:b,title:"En Sona Git",className:"flex items-center gap-1 py-1 px-2 hover:bg-neutral-50 rounded-lg transition-colors cursor-pointer",children:(0,t.jsx)(c,{size:16,className:"text-neutral-400"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("button",{onClick:m,disabled:0===s,className:"p-2 hover:bg-neutral-50 rounded-lg disabled:opacity-20 transition-all text-neutral-600",children:(0,t.jsx)(i,{size:20})}),(0,t.jsxs)("div",{className:"text-xs font-bold tracking-widest text-neutral-500 tabular-nums",children:[s+1," / ",a]}),(0,t.jsx)("button",{onClick:f,disabled:s>=a-1,className:"p-2 hover:bg-neutral-50 rounded-lg disabled:opacity-20 transition-all text-neutral-600",children:(0,t.jsx)(l,{size:20})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 border-r border-neutral-200",children:[(0,t.jsx)("button",{onClick:v,title:"Tam Ekran",className:"p-2 hover:bg-neutral-50 rounded-lg text-neutral-400 hover:text-neutral-600",children:(0,t.jsx)(d,{size:18})}),(0,t.jsx)("button",{onClick:w,title:"Yazdır",className:"p-2 hover:bg-neutral-50 rounded-lg text-neutral-400 hover:text-neutral-600",children:(0,t.jsx)(h,{size:18})}),(0,t.jsx)("button",{onClick:j,title:"Paylaş",className:"p-2 hover:bg-neutral-50 rounded-lg text-neutral-400 hover:text-neutral-600",children:(0,t.jsx)(x,{size:18})}),(0,t.jsx)("button",{onClick:k,title:"Mastodon'a Gönder",disabled:N,className:"p-2 hover:bg-[#6364FF]/10 rounded-lg text-[#6364FF] hover:text-[#5253e8] transition-colors disabled:opacity-50",children:N?(0,t.jsx)(g.Loader2,{size:18,className:"animate-spin"}):(0,t.jsx)("svg",{className:"w-[18px] h-[18px] fill-current",viewBox:"0 0 79 75",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M63 45.3v-20c0-4.1-1-7.3-3.2-9.7-2.1-2.4-5-3.7-8.5-3.7-4.1 0-7.2 1.6-9.3 4.7l-2 3.3-2-3.3c-2-3.1-5.1-4.7-9.2-4.7-3.5 0-6.4 1.3-8.6 3.7-2.1 2.4-3.1 5.6-3.1 9.7v20h8V25.9c0-4.1 1.7-6.2 5.2-6.2 3.8 0 5.8 2.5 5.8 7.4V37.7H44V27.1c0-4.9 1.9-7.4 5.8-7.4 3.5 0 5.2 2.1 5.2 6.2V45.3h8ZM74.7 16.6c.6 6 .1 15.7.1 17.3 0 .5-.1 4.8-.1 5.3-.7 11.5-8 16-15.6 17.5-.1 0-.2 0-.3 0-4.9 1-10 1.2-14.9 1.4-1.2 0-2.4 0-3.6 0-4.8 0-9.7-.6-14.4-1.7-.1 0-.1 0-.1 0s-.1 0-.1 0 0 .1 0 .1 0 0 0 0c.1 1.6.4 3.1 1 4.5.6 1.7 2.9 5.7 11.4 5.7 5 0 9.9-.6 14.8-1.7 0 0 0 0 0 0 .1 0 .1 0 .1 0 0 .1 0 .1 0 .1.1 0 .1 0 .1.1v5.6s0 .1-.1.1c0 0 0 0 0 .1-1.6 1.1-3.7 1.7-5.6 2.3-.8.3-1.6.5-2.4.7-7.5 1.7-15.4 1.3-22.7-1.2-6.8-2.4-13.8-8.2-15.5-15.2-.9-3.8-1.6-7.6-1.9-11.5-.6-5.8-.6-11.7-.8-17.5C3.9 24.5 4 20 4.9 16 6.7 7.9 14.1 2.2 22.3 1c1.4-.2 4.1-1 16.5-1h.1C51.4 0 56.7.8 58.1 1c8.4 1.2 15.5 7.5 16.6 15.6Z"})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-1",children:[(0,t.jsxs)("button",{onClick:M,className:`flex items-center gap-2 px-4 py-1.5 rounded-full transition-all text-sm font-bold ${C?"bg-primary-500 text-white shadow-lg":"bg-primary-100 text-primary-600 hover:bg-primary-200"}`,children:[C?(0,t.jsx)(p,{size:16}):(0,t.jsx)(u,{size:16}),(0,t.jsx)("span",{children:"Dinle"})]}),(0,t.jsx)("button",{onClick:z,className:"p-2 hover:bg-red-50 hover:text-red-500 rounded-lg text-neutral-400 ml-2 transition-colors",children:(0,t.jsx)(r.X,{size:20})})]})]})]})),N=(0,s.memo)(({page:e,pageNumber:s,alignment:a="left",onPageClick:i,author:l})=>(0,t.jsxs)("div",{onClick:i,className:`flex-1 relative overflow-hidden flex flex-col p-8 sm:p-16 lg:p-24 ${"left"===a?"border-r border-neutral-100":""} transition-all duration-500 cursor-pointer hover:bg-neutral-50/50 ${!e?"opacity-50 cursor-default":""}`,children:[(0,t.jsx)("div",{className:"absolute inset-0 paper-texture pointer-events-none"}),(0,t.jsxs)("div",{className:`relative z-10 flex flex-col h-full max-w-2xl mx-auto w-full ${"right"===a?"text-right":"text-left"}`,children:[(0,t.jsx)("div",{className:`text-[10px] sm:text-xs font-black tracking-[0.2em] text-neutral-300 uppercase mb-8 ${"right"===a?"text-right":"text-left"}`,children:l}),e?(0,t.jsxs)("div",{className:`flex-1 flex flex-col justify-start animate-fade-in-${a}`,children:[(0,t.jsx)("h3",{className:`text-xl font-bold mb-6 text-primary-600/60 uppercase tracking-widest text-sm ${"right"===a?"text-right":"text-left"}`,children:e.title}),(0,t.jsx)("div",{className:"prose prose-slate max-w-none",children:(0,t.jsx)("p",{className:`text-neutral-800 leading-relaxed font-serif text-lg sm:text-xl lg:text-3xl selection:bg-primary-100 ${"right"===a?"text-right pl-4":"text-left pr-4"} overflow-y-auto max-h-[60vh] custom-scrollbar`,children:e.content})})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center animate-pulse text-neutral-300",children:[(0,t.jsx)(n,{size:64,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"font-serif italic text-lg",children:"Son Sayfa"})]}),(0,t.jsx)("div",{className:`mt-8 text-sm font-bold text-neutral-300 tabular-nums ${"right"===a?"text-right":"text-left"}`,children:s})]})]})),M=(0,s.memo)(({onClose:e})=>(0,t.jsx)("div",{className:"absolute inset-0 z-40 bg-white/60 backdrop-blur-md flex items-center justify-center animate-fade-in",children:(0,t.jsxs)("div",{className:"text-center p-12 bg-white rounded-[48px] shadow-2xl border border-neutral-100 scale-110",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold mb-4 text-primary-600",children:"Harika Bir Yolculuktu!"}),(0,t.jsx)("p",{className:"text-neutral-600 mb-8 max-w-xs mx-auto font-medium text-lg",children:"Bu hikaye metamorfozunu tamamladı. Yeni hikayeler seni bekliyor."}),(0,t.jsx)(v.default,{onClick:e,className:"!py-6 !px-16 !text-xl !rounded-full shadow-2xl",icon:m,children:"Bitir ve Dön"})]})})),C=(0,s.memo)(({story:e,onClose:a})=>{let{refineStory:i,isProcessing:l}=(0,j.useStory)(),[n,o]=(0,s.useState)(0),[c,d]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),v=(0,s.useMemo)(()=>e.pages||[],[e.pages]),C=v.length,z=e.themeColor||"#9333EA",S="KOZA GEZGİNİ",L=v[n],{toggle:E,isSpeaking:$,stop:H}=((e,t="tr-TR")=>{let[a,i]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{"speechSynthesis"in window&&o(!0)},[]),(0,s.useEffect)(()=>()=>{window.speechSynthesis.cancel()},[]);let d=(0,s.useCallback)(()=>{let e=window.speechSynthesis.getVoices();return e.find(e=>e.lang.startsWith(t))||e[0]},[t]),h=(0,s.useCallback)(()=>{if(!n||!e)return;window.speechSynthesis.cancel();let s=new SpeechSynthesisUtterance(e);s.lang=t,s.voice=d(),s.rate=.9,s.pitch=1,s.onstart=()=>{i(!0),r(!1)},s.onend=()=>{i(!1),r(!1)},s.onerror=e=>{console.error("Speech error",e),i(!1),r(!1)},c.current=s,window.speechSynthesis.speak(s)},[e,t,n,d]),x=(0,s.useCallback)(()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),r(!0),i(!1))},[]),u=(0,s.useCallback)(()=>{window.speechSynthesis.paused?(window.speechSynthesis.resume(),r(!1),i(!0)):a||l||h()},[h,a,l]),m=(0,s.useCallback)(()=>{window.speechSynthesis.cancel(),i(!1),r(!1)},[]),p=(0,s.useCallback)(()=>{a?x():u()},[a,x,u]);return{speak:h,pause:x,resume:u,stop:m,toggle:p,isSpeaking:a,isPaused:l,supported:n}})(L?.content);(0,s.useEffect)(()=>{H()},[n,H]),(0,s.useEffect)(()=>()=>H(),[H]);let A=(0,s.useCallback)(()=>o(e=>Math.min(e+2,C%2==0?C-2:C-1)),[C]),B=(0,s.useCallback)(()=>o(e=>Math.max(e-2,0)),[]),T=(0,s.useCallback)(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().catch(e=>console.log(e)):document.documentElement.requestFullscreen()},[]),P=(0,s.useCallback)(()=>requestAnimationFrame(()=>window.print()),[]),q=(0,s.useCallback)(async()=>{let t={title:e.title,text:`KOZA ile oluşturduğum bu hikayeyi oku: ${e.title}`,url:window.location.href};try{navigator.share?await navigator.share(t):(await navigator.clipboard.writeText(window.location.href),alert("Bağlantı panoya kopyalandı!"))}catch(e){console.error("Paylaşım hatası:",e)}},[e.title]),[R,F]=(0,s.useState)(!1),D=async()=>{F(!0);try{await new Promise(e=>setTimeout(e,2e3)),alert("Hikaye Mastodon gönderi kuyruğuna eklendi!")}catch(e){console.error("Mastodon paylaşım hatası",e),alert("Paylaşılamadı. Hesabınız bağlı mı?")}finally{F(!1)}},Y=async()=>{if(!c.trim())return;p("loading");let t=await i(e,c);t.success?(p("success"),d(""),setTimeout(()=>{p(null),x(!1)},2e3)):(p("error"),alert(t.message||"Bir hata oluştu."))};return v.length?(0,t.jsxs)("div",{className:"min-h-screen bg-[#f3f4f6] text-neutral-900 relative overflow-hidden flex flex-col font-sans",children:[(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none opacity-20",children:(0,t.jsx)(b,{color:z,intensity:.3})}),(0,t.jsx)(k,{title:e.title,currentPage:n,totalPages:C,onPrev:B,onNext:A,onReset:()=>o(0),onJump:()=>o(C-1),onToggleFullscreen:T,onPrint:P,onShare:q,onMastodonShare:D,isMastodonSharing:R,onToggleAudio:E,isSpeaking:$,onClose:a}),(0,t.jsxs)("div",{className:"absolute top-20 right-6 z-50 flex flex-col items-end gap-2",children:[(0,t.jsxs)("button",{onClick:()=>x(!h),className:`flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm transition-all shadow-lg active:scale-95 ${h?"bg-indigo-600 text-white":"bg-white text-indigo-600 hover:bg-neutral-50"}`,children:[(0,t.jsx)(y.Sparkles,{size:16}),(0,t.jsx)("span",{children:"Hikayeyi Düzenle"})]}),h&&(0,t.jsxs)("div",{className:"w-80 bg-white p-4 rounded-3xl shadow-2xl border border-indigo-100 animate-fade-in-up mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-xs uppercase tracking-wider",children:[(0,t.jsx)(f,{size:14}),(0,t.jsx)("span",{children:"Nasıl Değiştirelim?"})]}),(0,t.jsx)("button",{onClick:()=>x(!1),className:"text-neutral-400 hover:text-neutral-600",children:(0,t.jsx)(r.X,{size:16})})]}),(0,t.jsx)("p",{className:"text-[10px] text-neutral-500 mb-4 leading-relaxed",children:'Örn: "Bir yardımcı karakter ekle", "Daha büyülü bir atmosfer yarat" veya "Sonunu değiştir".'}),(0,t.jsx)(w,{value:c,onChange:d,onSend:Y,disabled:"loading"===u,placeholder:"Geri bildirimin..."}),"loading"===u&&(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-indigo-600 font-bold text-xs animate-pulse",children:[(0,t.jsx)(g.Loader2,{size:16,className:"animate-spin"}),(0,t.jsx)("span",{children:"KOZA Hikayeni Yeniden Örüyor..."})]}),"success"===u&&(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-green-600 font-bold text-xs",children:[(0,t.jsx)(m,{size:16}),(0,t.jsx)("span",{children:"Dönüşüm Tamamlandı!"})]})]})]}),(0,t.jsx)("main",{className:"flex-1 relative z-10 overflow-hidden",children:(0,t.jsxs)("div",{className:"w-full h-full bg-white book-depth flex relative overflow-hidden group shadow-2xl",children:[(0,t.jsx)("div",{className:"book-spine"}),(0,t.jsx)(N,{page:v[n],pageNumber:n+1,alignment:"left",onPageClick:B,author:S}),(0,t.jsx)(N,{page:v[n+1],pageNumber:n+2,alignment:"right",onPageClick:A,author:S}),n===C-1&&(0,t.jsx)(M,{onClose:a})]})}),(0,t.jsx)("div",{className:"h-1 bg-neutral-200 w-full shrink-0",children:(0,t.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-700 ease-out",style:{width:`${(n+1)/C*100}%`}})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-neutral-200 p-12 text-center shadow-xl",children:[(0,t.jsx)("p",{className:"text-neutral-600 mb-6 font-medium",children:"Hikaye yüklenemedi"}),(0,t.jsx)("button",{onClick:a,className:"text-primary-600 hover:text-primary-700 font-bold",children:"← Geri Dön"})]})})});e.s(["default",0,C],60530)}]);